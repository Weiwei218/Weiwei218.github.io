<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>猜數字遊戲</title>
    <style>
        .wrap {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .range {
            padding: 20px;
        }
    </style>
</head>

<body>
    <div class="wrap">
        <div class="range">請輸入
            <span class="min">1</span> ~
            <span class="max">100</span>
            之間的數字
        </div>
        <div class="input-bar">
            <input type="text">
            <button class="btn-guess">猜</button>
            <button class="btn-showAns">看答案</button>
            <button class="btn-reset">重來</button>
            <div>
                <span class="message"></span>
            </div>
        </div>
    </div>


    <!-- <div>已猜：<span class="count">0</span>次</div> -->


    <script>
        let minNum = 1;
        let maxNum = 100;
        function getRandomInt(maxNum) {
            return Math.ceil(Math.random() * maxNum)
        }
        let answer = getRandomInt(100);
        console.log(answer);

        let input = document.querySelector("input");
        const btnGuess = document.querySelector(".btn-guess");
        const btnAns = document.querySelector(".btn-showAns");
        const btnReset = document.querySelector(".btn-reset");
        let min = document.querySelector(".min");
        let max = document.querySelector(".max");
        let msg = document.querySelector(".message");
        let count = document.querySelector(".count");

        // console.log(input);
        console.log(btnGuess);
        console.log(btnAns);
        console.log(btnReset);
        // console.log(min);
        // console.log(max);
        // console.log(msg);
        // console.log(count);

        //宣告輸入數值
        // let guess;
        btnGuess.addEventListener("click", function () {
            let guess = parseInt(input.value);
            // console.log(`猜:${guess}`);     
            // console.log(typeof guess);
            // console.log(guess);
            // console.log(guess.toString());        
            // console.log(input.value);

            if (guess.toString() !== input.value) {
                msg.innerText = "請輸入數字!";
            }
            else if (guess > maxNum || guess < minNum) {
                msg.innerText = "輸入範圍錯誤!";
            }
            else if (guess < answer) {
                minNum = guess;
                min.innerText = guess;
                msg.innerText = "沒猜中!";

            }
            else if (guess > answer) {
                maxNum = guess;
                max.innerText = guess;
                msg.innerText = "沒猜中!";
            }
            else {
                msg.innerText = "猜對了!";
                input.disabled = true;
                btnGuess.disabled = true;
                btnAns.disabled = true;

            }
        });

        btnAns.addEventListener("click", function () {
            msg.innerText = `答案是${answer}`;
        })

        btnReset.addEventListener("click", function () {
            answer = getRandomInt(100);
            minNum = 1;
            maxNum = 100;
            min.innerText = 1;
            max.innerText = 100;
            msg.innerText = null;
            input.value = null;
            console.log(answer);
        })


            //紀錄遊戲次數
            let input11 = "123sss";

if (/^\d+$/.test(input11)) {
  // 字符串只包含数字，可以进行解析
  let number = parseInt(input11, 10);
  console.log("解析结果：" + number);
} else {
  // 字符串包含文字或其他非数字字符
  console.log("输入包含文字或非数字字符");
}
    </script>

</body>

</html>